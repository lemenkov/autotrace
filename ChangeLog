2001-02-28  Masatake YAMATO  <yamato@redhat.com>

 	Applied a patch from Martin.

	* output-emf.c: Now supports centerline.

2001-02-27  Masatake YAMATO  <yamato@redhat.com>

	* NEWS: Write about dxf.

 	Applied a patch from Martin.

	* NEWS: Updated.	

	* output.c: Don't include output-dxf.h and
	output-dxf12.h.

2001-02-26  Masatake YAMATO  <yamato@redhat.com>

 	Applied a patch from Martin.
	
	* output.c: Remove dxf supports.

 	* Makefile.am (output_src): Likewise.

	* autotrace.dsw: Updated.

	* autotrace.dsp: Likewise.
	
2001-02-25  Masatake YAMATO  <yamato@redhat.com>

	Applied two patches from Martin.

	* output-p2e.c: Now supports centerline.

 	* output-sk.c: Likewise.

	* output-svg.c: Likewise.	

2001-02-25 Ian MacPhedran <Ian_MacPhedran@engr.USask.Ca>

	* output-fig.c: Updated.
	Added support for the "centerline" option
	Added code to reduce the number of FIG "levels" produced
 
2001-02-24  Masatake YAMATO  <yamato@redhat.com>

	Applied patches from Martin.
	
	* output-eps.c: Made the centerline eps output 
	compatible to CorelDraw.

	Applied patches from Martin.

	* thin-image.c: 
	Made it C++ compatible again (replaced delete by todelete) and 
	removed some warnings.

 	* output-er.c: Made it C++ compatible, replaced malloc my 
	XMALLOC and removed some unnecessary code.

	* pxl-outline.c: Moved edge.h to pxl-outline.c, some cleanup and
	removed some warnings.

	* edge.h: Removed, because the code was added to pxl-outline.c.

2001-02-24  Masatake YAMATO  <yamato@redhat.com>

	* median.c (quantize): Applied a patch from Martin.
	-- I removed a bug in median.c:
	fixed wrong color count

2001-02-23  Masatake YAMATO  <yamato@redhat.com>

	* HACKING (Autofig): Updated.

	* autogen.sh: Check whether autofig is existed or not.

	Applied patches from Martin.
	-- I removed some compiler warnings in color.h 
	and pxl-outline.c. Also I have a new autotrace.dsp.

	* pxl-outline.c: Updated.

	* color.h: Updated.

	* autotrace.dsp: Updated.

2001-02-23  Masatake YAMATO  <yamato@redhat.com>
	
	* configure.in: Set version to 0.27pre.

	* output-eps.c (out_splines): Use at_centerline.

	* main.c (main): Use at_centerline.
	(centerline): static scope.
	
	* autotrace.[hc] (at_centerline): New varaible.
	
2001-02-22  Masatake YAMATO  <yamato@redhat.com>

	* output.h (OUTPUT_SUFFIX_LIST): Added "er".

2001-02-20  Martin Weber <martweb@gmx.net>

	-- Centerline vectorization

	* Makefile.am: Added output-er.c and .h.

	* autotrace.c: Modified at_splines_new() to support centerline
		vectorization.

	* autotrace.h: Added 'open' flag to at_spline_list_type.

	* color.h: Added COLOR_LUMINANCE() macro.

	* curve.h: Added 'open' flag to curve_list_type.

	* fit.c: Made several modifications to handle open curves.

	* input-pnm.c: In pnm_load_image(), replaced fopen()/fclose()
		with xfopen()/xfclose() (see below).

	* main.c: Added a -centerline option.  Commented out a call to
		free() that was causing memory corruption.  Fixed a bug
		in the conversion to decimal of the -background-color
		hex string.  Reinstated 'remove_adj_corners' and 'thin'
		globals as temporary variables (because the SGI MIPSpro
		compiler doesn't allow initializing 'long_options' with
		the addresses of a non-static variables).

	* median.c: Added rudimentary support for single-channel images
		(by interpreting them as three-channel images for which
		R = G = B).  Changed the way the background color is
		handled.  Changed some function prototypes.

	* output-eps.c: Made changes to support open curves.

	* output-er.c,
	  output-er.h: New; adds Elastic Reality shape file output.

	* output.c: Added Elastic Reality shape file output format (see
		output-er.c and .h).

	*  pxl-outline.c: Added find_centerline_pixels() and supporting
		functions find_one_centerline(), concat_pixel_outline(),
		next_edge(), next_unmarked_outline_edge(), opposite_edge(),
		mark_pixel(), next_unmarked_outline_pixel(),
		is_marked_pixel(), num_neighbors(), num_marked_neighbors(),
		and is_open_junction() (some of these, as well as a few
		macros, were resurrected from an earlier version of AutoTrace).

	* pxl-outline.h: Added 'open' flag to pixel_outline_type.
		Added function find_centerline_pixels().  Added optional
		background color parameter to find_outline_pixels().

	* quantize.h: Changed function prototype for quantize().

	* spline.c: Reinstated patch to evaluate_spline() for SGI MIPSpro
		compiler.

	* thin-image.c: Added support for single-channel images.  Rewrote
		code to eliminate most inner-loop function calls.  Fixed
		two bugs that caused problems with border pixels.  Replaced
		hard-coded BACKGROUND color with an optional parameter.

	* thin-image.h: Added optional background color parameter to 
		thin_image().

	* vector.c: Rewrote normalize() to not abort if the vector is
		zero-length.

	* xstd.c: Modified xfopen() and xfclose() to allow reads from stdin.

2001-02-21  Masatake YAMATO  <yamato@redhat.com>
		
	[Patches from from Martin.]

	* THANKS: Updated contributors.

	* types.h: Fixed a bug when compiling with C++.

 	* Makefile.am (EXTRA_DIST): Added vc++6.0.txt 
	autotrace.dsp autotrace.dsw.

2001-02-19  Masatake YAMATO  <yamato@redhat.com>

	Applied patches from Martin.
	* main.c(read_command_line): removed bad 
	initialisation of opts

        * input.c(input_get_handler_by_suffix): Removed warning.
	magick_load_image is casted to input_read.

        * input-tga.c: removed unistd.h because it does not 
	compile with Windows.

2001-01-20  Masatake YAMATO  <yamato@redhat.com>

	* input-magick.c: Applied a patch from Martin.
	Added special care for 
	(MagickLibVersion >= 0x500) && (MagickLibVersion <= 0x525).

2001-01-10  Masatake YAMATO  <yamato@redhat.com>

	* median.c: Appled a patch from Martin.
	(median_cut_rgb): Rid ^M.

2000-12-02  Masatake YAMATO  <yamato@redhat.com>

	Following two changes are suggested 
	by Brian V. Smith <bvsmith@epb1.lbl.gov>.
	
	* input-magick.c (magick_load_image): Invoke
	GetExceptionInfo if MagickLibVersion > 0x500.
	
	* input-tga.c: Include unistd.h.
	
2000-12-01  Masatake YAMATO  <yamato@redhat.com>

	* Merge branch TOWARD_RELEASE_0_26->RELEASE_0_26.

	2000-11-16  Masatake YAMATO  <yamato@redhat.com>

		- configure.in: Version 0.26.

	2000-11-15  Masatake YAMATO  <yamato@redhat.com>

		- pxl-outline.c: Applied a patch from Martin.

2000-11-21  Masatake YAMATO  <yamato@redhat.com>

	* main.c (read_command_line): Use at_color_new.

	* autotrace.[ch] (at_fitting_opts_copy): 
	(at_color_new):
	(at_color_free):
	(at_color_copy): New functions.
		
2000-11-20  Masatake YAMATO  <yamato@redhat.com>

	* HACKING: Write about autofig.
	Write about Library usage.

	* configure.in (AC_OUTPUT): Generate autotrace-config.

	* autotrace-config.af: New file.

	* Makefile.am: Added target for autotrace-config.

	* autotrace.h: Put typedefs here.

	* autotrace.c (at_home_site): New function.

	* Makefile.am (autotraceinclude_HEADERS): Only 
	types.h and autotrace.h are installed.

2000-11-18  Masatake YAMATO  <yamato@redhat.com>

	* Makefile.am (autotraceinclude_HEADERS): 
	Added image-header.h. 
	(noinst_HEADERS): Added xstd.h, epsilon-equal.h,
	logreport.h, usefull.h, message.h.
	(libautotrace_a_SOURCES): Added quantize.h and
	median.h.

	* (substring.[ch]): Merged into filename.c.

	* (concat3.[ch]): Likewise.

	* xstd.h: xmem.h, xf*.[ch] are unified.

	* filename.[ch]: *-suffi?x and are unified.

2000-11-17  Masatake YAMATO  <yamato@redhat.com>

	Make codes C++-clean. Suggested by 
	Glunz Wolfgang <Wolfgang.Glunz@icn.siemens.de>
	and 
	Reini Urban <rurban@sbox.tu-graz.ac.at>.
	
	* autotrace.h: Added an extern "C". 

	* fit.c (remove_adjacent_corners): Rename new to
	new_list.

	* getopt.h: Added an extern "C". 

	* thin-image.c (delete_map): Renamed from `delete'. 
	(thin_image): Add a cast to return value of malloc.
	(thin): Likewise.
	(thin): Use delete_map.

2000-11-14  Masatake YAMATO  <yamato@redhat.com>

	* Makefile.am (autotrace_SOURCES): Move some files
	to libautotrace_a_SOURCES from autotrace_SOURCES.

	* main.c (read_command_line): Use at_version().

	* autotrace.c (at_version): New function.

	* Makefile.am: Create libautotrace.a.

	* main.c: use autotrace.[ch].

	* autotrace.c: New file.

	* autotrace.h: New file.

	* output.c(output_list): New function.

	* input.c (input_format_entry): Added descr field.
	(input_list): New function.
	(input_list_formats): Move to main.
	
	* fit.h (fitting_opts_type): Added new field `thin'.

	* fit.c (new_fitting_opts): Initialize thin.

	* README (http): Remove files in main part.

	* Makefile.am (autotrace_SOURCES): Added autotrace.[ch].

	* fit.c: Apply a patch from martin.
	"I fixed a bug in fit.c that sometimes causes an endless 
	loop in AutoTrace."

	* main.c: Don't include main.h.
	Include image-header.h.

	* Makefile.am (autotrace_SOURCES): Remove main.h.
	
	* main.c(input_reader): Renamed from load_image.
	Use type input_read.
	(input_extension): Removed unused variable
	(set_input_format): 
	(set_input_format_by_suffix): Removed.
	Use input_get_handler* instead.
	(main): Check `input_reader' is set or not before
	set. 
	Set output format and open output before oput input.
	Close output.
	Call free_bitmap instead of calling free directly.
	(image_header):	 Make the scope of `image_header' to 
	main local from global.

	* THANKS: New file.

	* input-magick.c: Replaced with new one from Martin.

	* Makefile.am (INCLUDES): -Wall is removed.

2000-11-11  Masatake YAMATO  <yamato@redhat.com>

	* Makefile.am (autotrace_LDADD): Added LIBPNG_LDFLAGS
	to autotrace_LDADD.

2000-11-10 Martin Weber <martweb@gmx.net>
	Removed warning in pxl-outline.c
2000-11-06 Martin Weber <martweb@gmx.net>
	Fixed some warnings with gcc on AIX in xmem.h
2000-11-04 Martin Weber <martweb@gmx.net>
	Removed warning for input-magick.c
	Improved input-p2e.c
2000-11-03 Martin Weber <martweb@gmx.net>
	Fixed a bug in input-bmp.c
2000-11-02 Martin Weber <martweb@gmx.net>
	pxl-outline.c completely rewritten
	removed edge.c
2000-10-30 Martin Weber <martweb@gmx.net>
	Removed problems with nonvalid filenames.
	Fixed some compiler warnings.
2000-10-22 Martin Weber <martweb@gmx.net>
	Made code more portable
2000-10-22 Dan Mills <dmills@demon.co.uk>
	Added thinning
2000-10-20 Martin Weber <martweb@gmx.net>
	Some cosmetic changes
	updates for a bug in pxl-outline.c
	replaced boolean by bool
	better quantization
	fixed tga import for gray images
	...
2000-10-11  Enrico Persiani <e.persiani@bo.nettuno.it>

	* output-emf.c: 

	1. Improved output efficiency by grouping shapes of the same color
	2. Corrected an ERROR on filling shapes with holes 
	3. If the user tries to output EMF on stdout, an error message is
	sent to stderr
	
2000-10-11  MenTaLguY <mental@rydia.net>

	(This log entry is written by Masatake YAMATO).
	
	* Makefile.am (EXTRA_DIST): Added input-png.*.
	(input_png_src): Likewise. 

	* configure.in: Added png check code.
	Masatake YAMATO also added STAGE1 check.

	* input-png.[hc]: New files.	

2000-10-11  Masatake YAMATO  <yamato@redhat.com>

 	* main.c: Include input.h only.
	(input_extension): Comment out unused variable.
	(set_*_input_format): Removed. Use input_get_handler* instead.
	(INPUT_SUFFIX_LIST): Move to input.h.
	(list-output-formats): A option renamed from list-formats.
	(list-input-formats): New option.

	* configure.in(AM_INIT_AUTOMAKE): Define package and version.

	* Makefile.am (autotrace_SOURCES): Added input.c and .h.

	* output.h (OUTPUT_SUFFIX_LIST): Move definition from
	main.c.

	* version.c(version_string): Append VERSION defined 
	in configure.in.

	* input.[hc]: New file.
	  input.[hc] is based on a patch from "MenTaLguY"
	  <mental@rydia.net>.	

2000-10-04  Masatake YAMATO  <yamato@redhat.com>

	* output-emf.c: Revised by 
	Enrico Persiani <persiani at students.cs.unibo.it>.

	  1. Fixed a bug that caused crashes when the output 
	  was redirected to stdout

	  2. Cleaned the code from unused variable definitions

	  3. Removed a data-type (EMFPoint) and a function (write8) 
	  not used by the main conversion code.

2000-10-03  Masatake YAMATO  <yamato@redhat.com>

	* configure.in: Fix a typo. (MAGIC->MAGICK).

	* Makefile.am (EXTRA_DIST): Added input-magick.[ch].

	* output-emf.c (OutputEmf): Set return type to void.

	* output.c: Added emf as a new output format.

	* Makefile.am (output_src): Added output-emf.[ch].

	* main.c (INPUT_SUFFIX_LIST): Renamed SUFFIX_LIST.
	(OUTPUT_SUFFIX_LIST): New constant.
	(OUTPUT_SUFFIX_LIST): Added emf as a new output format.

	* output-emf.[hc]: New files from 
	  Enrico Persiani <persiani at students.cs.unibo.it>.

	
2000-10-01  Masatake YAMATO  <yamato@redhat.com>

	* xmem.h: Replaced with new one which is sent from Martin.

2000-09-29  Masatake YAMATO  <yamato@redhat.com>

	* configure.in: Check magick/api.h.

	* spline.c (evaluate_spline): Appleid a patch that avoid a bug
	in MIPSpro compiler (from Peter Cucka <pcucka at anim.dreamworks.com>).

	* Makefile.am (input_magick_src): Remove "". This causes an
	error when "make dist" is invoked.
	(autotrace_SOURCES): Remove type.h.

2000-09-28  Masatake YAMATO  <yamato@redhat.com>

	* main.c: Added tag file format support.

	* Makefile.am (autotrace_SOURCES): Split the file set
	into autotrace_SOURCES, input_magick_src and output_src.
	(input_src): Added input-tga.[hc].

	* input-bmp.[hc]: Replace old files with new files sent
	from Martin.

	* input-tga.[hc]: New file from Martin.
 	(ReadImage): Initialize pels with 0 instead of NULL.
	Initialize image.bitmap after local variable declarations.

2000-09-26  Masatake YAMATO  <yamato@redhat.com>

	* output-eps.c: Applied a revised patch from
	Bernhard Herzog <herzog@online.de>.

	  Message-ID: <m3itro7146.fsf@greebo.nodomain.de>
	  Subject: Re: [AutoTrace] autotrace 0.23
	  From: Bernhard Herzog <herzog@online.de>
	  To: autotrace@egroups.com
	  Date: 22 Sep 2000 20:06:17 +0200


	* main.c: Applied a patch from <Johannes.Schindelin@gmx.de> 
	for Magick input support. See blocks surrounded by HAVE_MAGICK.
	(SUFFIX_LIST): New macro definition.

 	* input-magick.[ch]: Magick input plug donated by 
	<Johannes.Schindelin@gmx.de>.
	
	* configure.in(MAGICK_CONFIG): Check Magick-config.

	* Makefile.am(HAVE_MAGICK): New condition.

	* output-eps.c: Applied a patch from 
	Bernhard Herzog <herzog@online.de>.
		
          Message-ID: <m3og1g7brh.fsf@greebo.nodomain.de>
	  Subject: Re: [AutoTrace] autotrace 0.23
	  From: Bernhard Herzog <herzog@online.de>
	  To: autotrace@egroups.com
	  Date: 22 Sep 2000 16:16:18 +0200

	* fit.c: Include both limits.h and float.h.
	(fit_with_least_squares): Use %lx instead of %x.
	Cast left_curve to unsigned long.
	(fit_with_least_squares): Likewise.

	* curve.c (log_curve): Likewise.
	(log_entire_curve): Likewise.

 	* xmem.h (XREALLOC): Likewise.
		
	* .cvsignore: Added .deps, autotrace, config.cache, config.log,
	config.status and Makefile.
	

	* Makefile.am (AUTOMAKE_OPTIONS): Added AUTOMAKE_OPTIONS.

